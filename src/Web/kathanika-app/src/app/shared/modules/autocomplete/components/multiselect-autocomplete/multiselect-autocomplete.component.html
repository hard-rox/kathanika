<!-- <pre>{{options.length | json}}</pre> -->
<!--

  class="bg-blue-100 inline-flex items-center text-sm rounded mt-2 mr-1 overflow-hidden">
  <pre class="ml-2 mr-1 leading-relaxed truncate max-w-xs px-1" x-text="tag">{{item.content | json}}</pre>
  <button class="w-6 h-8 inline-block align-middle text-gray-500 bg-blue-200 focus:outline-none">
    <svg class="w-6 h-6 fill-current mx-auto" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path fill-rule="evenodd"
        d="M15.78 14.36a1 1 0 0 1-1.42 1.42l-2.82-2.83-2.83 2.83a1 1 0 1 1-1.42-1.42l2.83-2.82L7.3 8.7a1 1 0 0 1 1.42-1.42l2.83 2.83 2.82-2.83a1 1 0 0 1 1.42 1.42l-2.83 2.83 2.83 2.82z" />
    </svg>
  </button>
</div> -->

<div class="flex flex-col">
  <label [for]="control?.name+'-search'">
    {{label}}
    <span *ngIf="isRequired()" class="text-theme-fire-red">*</span>
  </label>

  <div *ngFor="let item of selectedOptions">{{item.content?.outerHTML}}</div>

  <div class="group relative">
    <input type="text" autocomplete="off" [id]="control?.name+'-search'" [(ngModel)]="searchInputValue"
      (input)="onInputChange()" [placeholder]="placeholder.length > 0? placeholder : label" [disabled]="isDisabled"
      (blur)="onBlur()" [ngClass]="(control?.dirty || control?.touched)
  && !control?.valid ?
  'border-theme-fire-red placeholder:text-theme-fire-red placeholder:text-opacity-30'
  : isDisabled ? 'border-theme-davys-gray border-opacity-50 bg-gray-200': 'border-theme-gunmetal'"
      class="peer w-full" />
    <div tabindex="0" *ngIf="options && options.length > 0"
      class="z-10 w-full border bg-white invisible shadow-md absolute top-12 transition-all opacity-0 flex flex-col group-focus-within:visible group-focus-within:opacity-100 group-focus-within:translate-y-1">
      <ng-content select="kn-autocomplete-option"></ng-content>
    </div>
  </div>
  <ul class="list-disc ml-4">
    <li *ngIf="(control?.dirty || control?.touched)
    && control?.hasError('required')" class="text-theme-fire-red">{{label}} is
      required</li>
  </ul>
</div>
