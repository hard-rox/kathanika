<div class="flex flex-col">
    <label [for]="control?.name">
        {{ label() }}
        @if (isRequired()) {
            <span class="text-theme-fire-red">*</span>
        }
    </label>
    <select
        (blur)="onBlur()"
        (ngModelChange)="onModelChange($event)"
        [(ngModel)]="value"
        [id]="control?.name"
        [ngClass]="
      (control?.dirty || control?.touched) && !control?.valid
        ? 'border-theme-fire-red placeholder:text-theme-fire-red placeholder:text-opacity-30'
        : 'border-theme-gunmetal'
    "
        class="peer border p-2 focus:ring-theme-rich-black rounded-sm"
    >
        <ng-content select="option"></ng-content>
    </select>
    @if (helpText()) {
        <p class="text-xs text-theme-gunmetal text-opacity-50 mt-1">{{ helpText() }}</p>
    }
    <ul class="list-disc ml-4">
        @if ((control?.dirty || control?.touched) && control?.hasError('required')) {
            <li class="text-theme-fire-red">{{ label() }} is required</li>
        }
    </ul>
</div>
