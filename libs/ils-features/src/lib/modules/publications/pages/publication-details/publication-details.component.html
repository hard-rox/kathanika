<!-- <pre>{{queryRef.valueChanges | async | json}}</pre> -->
@if (queryRef.valueChanges | async; as queryResult) {
  @if (!queryResult.error && !queryResult.errors && queryResult.data; as data) {
    <div class="w-full shadow-sm bg-white">
      <div class="flex gap-4">
        <img
          class="m-6 max-h-100 w-auto shadow-2xl"
          src="https://picsum.photos/300/500"
          alt="Cover"
        />
        <div class="px-4 py-4 space-y-4">
          <h4 class="text-xl font-bold">{{ data.publication?.title }}</h4>
          <div class="w-full flex items-center gap-4">
            <div class="flex -space-x-2 overflow-hidden">
              @for (author of data.publication?.authors; track author) {
                <img
                  class="inline-block max-h-14 rounded-full w-auto ring-2 ring-white"
                  src="https://picsum.photos/400"
                  alt="DP"
                />
              }
            </div>
            <h5 class="space-x-2">
              @for (author of data.publication?.authors; track author) {
                <span>{{ author.firstName + ' ' + author.lastName }}</span>
              }
            </h5>
          </div>
          <p class="mt-3 text-justify">{{ data.publication?.description }}</p>
          <div class="px-4 py-2 space-y-2">
            <div class="grid grid-cols-2">
              <p class="font-bold uppercase">Publication Type</p>
              <p>{{ data.publication?.publicationType }}</p>
            </div>
            <div class="grid grid-cols-2">
              <p class="font-bold uppercase">Publisher</p>
              <p>{{ data.publication?.publisher }}</p>
            </div>
            <div class="grid grid-cols-2">
              <p class="font-bold uppercase">Published Date</p>
              <p>{{ data.publication?.publishedDate | date: 'dd MMM yyyy' }}</p>
            </div>
            <div class="grid grid-cols-2">
              <p class="font-bold uppercase">Edition</p>
              <p>{{ data.publication?.edition }}</p>
            </div>
            <div class="grid grid-cols-2">
              <p class="font-bold uppercase">ISBN</p>
              <p>{{ data.publication?.isbn }}</p>
            </div>
            <div class="grid grid-cols-2">
              <p class="font-bold uppercase">Language</p>
              <p>{{ data.publication?.language }}</p>
            </div>
            <div class="grid grid-cols-2">
              <p class="font-bold uppercase">Call Number</p>
              <p>{{ data.publication?.callNumber }}</p>
            </div>
            <div class="grid grid-cols-2">
              <p class="font-bold uppercase">Copies Available</p>
              <p>{{ data.publication?.copiesAvailable }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  }
}
